<div class="container">

<div class="page-header">
  User Management
  <div class="sub-header">Manage application users
  </div>
</div>

<div class="form-inline has-feedback filter-header">
    <input type="text" class="form-control" placeholder="Search" ng-model="search.$" />
    <!-- <i class="glyphicon glyphicon-search form-control-feedback"></i> -->
    <button class="btn btn-default btn-sm" ng-click="hideFilter=!hideFilter">Advanced Search</button>
    <button class="btn btn-default btn-sm pull-right" ng-click="addRecord()"> Add New User</button>
</div>

<table class="table table-striped table-condensed table-responsive table-hover">
  <thead class="data-grid-header">
    <!-- table header -->
    <tr>
      <th>
        <a href="" ng-click="orderByField='handle'; reverseSort = !reverseSort">Email</a>
      </th>
      <th>
        <a href="" ng-click="orderByField='firstName'; reverseSort = !reverseSort">First Name</a>
      </th>
      <th>
        <a href="" ng-click="orderByField='lastName'; reverseSort = !reverseSort">Last Name</a>
      </th>
      <th class="hidden-xs">
        <a href="" ng-click="orderByField='contactNo'; reverseSort = !reverseSort">Organization</a>
      </th>
      <th class="hidden-xs">
        <a href="" ng-click="orderByField='contactNo'; reverseSort = !reverseSort">Status</a>
      </th>
      <th>&nbsp;<a href="">Action</a></th>
    </tr>

    <!-- table filter -->
    <tr ng-hide="hideFilter">
      <th><span ng-hide="hideFilter"><input type="text" ng-model="search.handle"></span></th>
      <th><span ng-hide="hideFilter"><input type="text" ng-model="search.firstName"></span></th>
      <th><span ng-hide="hideFilter"><input type="text" ng-model="search.lastName"></span></th>
      <th  class="hidden-xs"><span ng-hide="hideFilter"><input type="text" ng-model="search.contactNo"></span></th>
      <th><span ng-hide="hideFilter">&nbsp;</span></th>
    </tr>      

    <!-- table add new record template -->
    <tr ng-hide="hideAddRow">
      <td><span ng-hide="hideAddRow"><input type="text" ng-model="user.email"></span></td>
      <td><span ng-hide="hideAddRow"><input type="text" ng-model="user.name.first"></span></td>
      <td><span ng-hide="hideAddRow"><input type="text" ng-model="user.name.last"></span></td>
      <td  class="hidden-xs"><span ng-hide="hideAddRow"><input type="text" ng-model="user.organization"></span></td>
      <td></td>
      <td>
        <span ng-hide="hideAddRow">
          <a class="table-btn" ng-click="save()"><span class="glyphicon glyphicon-ok"/></a>
          <a class="table-btn" ng-click="deselect()"><span class="glyphicon glyphicon-remove"/></a>
        </span>
      </td>
    </tr>
  </thead>

  <!--User Grid for listing the users-->
  <tbody class="data-grid-data">
    <tr ng-repeat="user in userlist | filter: search |orderBy:orderByField:reverseSort">
      <td>{{user.email}}</td>
      <td>{{user.name.first}}</td>
      <td>{{user.name.last}}</td>
      <td class="hidden-xs">{{user.organization}}</td>
      <td class="hidden-xs">{{user.status}}</td>   
      <td>
        <a class="table-btn" ng-click="edit(user._id)"><span class="fa fa-pencil-square-o fa-lg" /></a>
        <a class="table-btn" ng-click="remove(user)"><span class="fa fa-trash-o fa-lg" /></a>
        <a class="table-btn" ng-if="user.status == 'Active'" ng-click="lock(user._id,user)"><span class="fa fa-lock fa-lg" /></a>
        <a class="table-btn" ng-if="user.status == 'Locked'" ng-click="unlock(user._id,user)"><span class="fa fa-unlock fa-lg" /></a>
      </td>
    </tr>
  </tbody>
</table>

</div> <!-- end of container -->